import{a as G,b as U}from"./chunk-3FIYCOO5.js";import{a as b,b as _,e as V,f as q,g as H,h as x}from"./chunk-SRPUPYMG.js";import{ba as L,ca as W,da as C,ea as N,f as R,fa as z,i as T,o as j}from"./chunk-UEBNNHWR.js";import{$a as A,Ab as r,Bb as P,Cb as O,Ec as S,Fb as M,Gb as v,Ha as F,Hb as D,Ja as l,Jb as f,Ka as m,aa as w,bb as p,f as s,fa as y,gc as E,hb as o,ib as a,ic as h,jb as B,ka as g,qb as d,sb as I}from"./chunk-YVT4I57R.js";var at=(()=>{class i{constructor(n,t){this.dialogRef=n,this.data=t,this.vpnChecked=!1,this.incognitoChecked=!1}get allChecked(){return this.vpnChecked&&this.incognitoChecked}onCancel(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static{this.\u0275fac=function(t){return new(t||i)(m(b),m(_))}}static{this.\u0275cmp=g({type:i,selectors:[["app-return-confirm-dialog"]],standalone:!0,features:[f],decls:17,vars:4,consts:[["mat-dialog-title",""],[1,"confirm-message"],[1,"reminders"],[1,"reminder-title"],["color","primary",3,"ngModelChange","ngModel"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click","disabled"]],template:function(t,e){t&1&&(o(0,"h2",0),r(1,"\u78BA\u8A8D\u6B78\u9084"),a(),o(2,"mat-dialog-content")(3,"p",1),r(4),a(),o(5,"div",2)(6,"p",3),r(7,"\u6B78\u9084\u524D\u8ACB\u78BA\u8A8D\uFF1A"),a(),o(8,"mat-checkbox",4),D("ngModelChange",function(c){return v(e.vpnChecked,c)||(e.vpnChecked=c),c}),r(9," \u5982\u679C\u904E\u7A0B\u4E2D\u6709\u4F7F\u7528 VPN\uFF0C\u6B78\u9084\u524D\u90FD\u8ACB\u8A18\u5F97\u95DC\u9589 "),a(),o(10,"mat-checkbox",4),D("ngModelChange",function(c){return v(e.incognitoChecked,c)||(e.incognitoChecked=c),c}),r(11," \u5982\u679C\u6709\u9700\u8981\u4F7F\u7528\u6E2C\u8A66\u6A5F\u700F\u89BD\u4EA4\u4ED8\u7DB2\u5740\uFF0C\u90FD\u8ACB\u8A18\u5F97\u4F7F\u7528\u7121\u75D5\uFF0C\u4E26\u65BC\u700F\u89BD\u5F8C\u78BA\u5BE6\u95DC\u9589\u8A72\u5206\u9801 "),a()()(),o(12,"mat-dialog-actions",5)(13,"button",6),d("click",function(){return e.onCancel()}),r(14,"\u53D6\u6D88"),a(),o(15,"button",7),d("click",function(){return e.onConfirm()}),r(16," \u78BA\u8A8D\u6B78\u9084 "),a()()),t&2&&(l(4),O("\u78BA\u5B9A\u8981\u6B78\u9084\u300C",e.data.deviceName,"\u300D\u55CE\uFF1F"),l(4),M("ngModel",e.vpnChecked),l(2),M("ngModel",e.incognitoChecked),l(5),p("disabled",!e.allChecked))},dependencies:[h,j,R,T,x,V,H,q,C,L,U,G],styles:[".confirm-message[_ngcontent-%COMP%]{margin:0 0 16px;color:var(--app-text-muted)}.reminders[_ngcontent-%COMP%]{background:var(--app-surface-hover);border-radius:8px;padding:12px 16px}.reminder-title[_ngcontent-%COMP%]{margin:0 0 12px;font-weight:500;color:var(--app-text-primary)}mat-checkbox[_ngcontent-%COMP%]{display:block;margin-bottom:8px}mat-checkbox[_ngcontent-%COMP%]:last-child{margin-bottom:0}  .reminders .mdc-form-field label{white-space:normal;line-height:1.4}"]})}}return i})();function X(i,Y){if(i&1&&(o(0,"div",4),r(1),a()),i&2){let n=I();l(),P(n.data.title)}}var st=(()=>{class i{constructor(n,t){this.dialogRef=n,this.data=t}close(){this.dialogRef.close()}static{this.\u0275fac=function(t){return new(t||i)(m(b),m(_))}}static{this.\u0275cmp=g({type:i,selectors:[["app-image-lightbox"]],standalone:!0,features:[f],decls:6,vars:3,consts:[["mat-icon-button","",1,"close-btn",3,"click"],[1,"lightbox"],[3,"src","alt"],["class","caption",4,"ngIf"],[1,"caption"]],template:function(t,e){t&1&&(o(0,"button",0),d("click",function(){return e.close()}),o(1,"mat-icon"),r(2,"close"),a()(),o(3,"div",1),B(4,"img",2),A(5,X,2,1,"div",3),a()),t&2&&(l(4),p("src",e.data.imageUrl,F)("alt",e.data.title||"image"),l(),p("ngIf",e.data.title))},dependencies:[h,E,x,C,W,z,N],styles:["[_nghost-%COMP%]{display:block;position:relative;overflow:hidden}.close-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:32px;height:32px;min-width:32px;border-radius:3px;background:var(--app-surface);color:var(--app-text);border:1px solid var(--app-border);display:inline-flex;align-items:center;justify-content:center;padding:0;z-index:1}.close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.close-btn[_ngcontent-%COMP%]:hover{background:var(--app-surface-elev)}[_nghost-%COMP%]     .close-btn .mat-mdc-button-persistent-ripple, [_nghost-%COMP%]     .close-btn .mdc-icon-button__ripple, [_nghost-%COMP%]     .close-btn .mat-mdc-focus-indicator{opacity:0!important;background:transparent!important}.lightbox[_ngcontent-%COMP%]{padding:48px 16px 16px;text-align:center}img[_ngcontent-%COMP%]{max-width:100%;max-height:75vh;width:auto;height:auto;border-radius:3px;background:var(--app-surface-elev);display:block;margin:0 auto}.caption[_ngcontent-%COMP%]{margin-top:12px;color:var(--app-text-muted);font-size:14px}@media (max-width: 600px){.lightbox[_ngcontent-%COMP%]{padding:44px 12px 12px}.close-btn[_ngcontent-%COMP%]{top:6px;right:6px}}"]})}}return i})();var ht=(()=>{class i{constructor(n){this.supabase=n}borrowDevice(n,t,e,u){return s(this,null,function*(){let{data:c,error:k}=yield this.supabase.client.rpc("borrow_device",{p_device_id:n,p_borrower_name:t,p_borrower_email:e||null,p_purpose:u||null});if(k)throw k;return c})}returnDevice(n){return s(this,null,function*(){let{data:t,error:e}=yield this.supabase.client.rpc("return_device",{p_borrow_id:n});if(e)throw e;return t})}getAllBorrows(){return s(this,null,function*(){let{data:n,error:t}=yield this.supabase.client.from("borrows").select("*").order("created_at",{ascending:!1});if(t)throw t;return n})}static{this.\u0275fac=function(t){return new(t||i)(y(S))}}static{this.\u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{at as a,st as b,ht as c};
