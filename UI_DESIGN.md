# UI/UX 設計規範

本文件定義系統的視覺設計規範與使用者體驗準則。

---

## 目錄
1. [設計原則](#1-設計原則)
2. [色彩系統](#2-色彩系統)
3. [字體規範](#3-字體規範)
4. [元件規範](#4-元件規範)
5. [頁面線框圖](#5-頁面線框圖)
6. [響應式設計](#6-響應式設計)
7. [互動規範](#7-互動規範)

---

## 1. 設計原則

### 核心理念
| 原則 | 說明 |
|-----|------|
| **簡單直覺** | 3 步驟內完成任何操作 |
| **狀態清晰** | 一眼看出設備是否可借 |
| **行動優先** | 手機操作體驗優先考慮 |
| **減少認知負擔** | 不需要學習就能上手 |

### UX 準則
- 主要操作（借用/歸還）在首頁就能完成
- 使用顏色直接表達狀態，無需閱讀文字
- 確認操作使用彈窗，防止誤觸
- 操作完成後立即給予回饋

---

## 2. 色彩系統

### 主色調
使用 Angular Material 的 **Indigo** 主題作為基礎。

```scss
// 主色
$primary: #3f51b5;        // Indigo 500
$primary-light: #c5cae9;  // Indigo 100
$primary-dark: #303f9f;   // Indigo 700

// 強調色
$accent: #ff4081;         // Pink A200

// 背景色
$background: #fafafa;     // Grey 50
$surface: #ffffff;        // White
```

### 狀態色
```scss
// 設備狀態
$status-available: #4caf50;    // 可借用 - 綠色
$status-borrowed: #f44336;     // 已借出 - 紅色
$status-maintenance: #ff9800;  // 維修中 - 橘色

// 語義色
$success: #4caf50;   // 成功
$warning: #ff9800;   // 警告
$error: #f44336;     // 錯誤
$info: #2196f3;      // 資訊
```

### 色彩使用規則
| 情境 | 色彩 | 用途 |
|-----|------|------|
| 主按鈕 | `$primary` | 借用、確認等主要動作 |
| 取消按鈕 | `transparent` | 取消、返回 |
| 危險動作 | `$error` | 刪除、強制歸還 |
| 狀態標籤 | 狀態色 | 設備卡片狀態標示 |

---

## 3. 字體規範

### 字體家族
```scss
$font-family: 'Roboto', 'Noto Sans TC', sans-serif;
```

### 字體大小
| 用途 | 大小 | 粗細 |
|-----|------|------|
| 頁面標題 | 24px | 500 |
| 卡片標題 | 18px | 500 |
| 正文 | 14px | 400 |
| 說明文字 | 12px | 400 |
| 按鈕 | 14px | 500 |

### 使用範例
```scss
.page-title {
  font-size: 24px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.87);
}

.card-title {
  font-size: 18px;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.87);
}

.body-text {
  font-size: 14px;
  font-weight: 400;
  color: rgba(0, 0, 0, 0.6);
}
```

---

## 4. 元件規範

### 4.1 設備卡片 (Device Card)

**設計規格：**
```
┌─────────────────────────────────┐
│  ┌───────────────────────────┐  │
│  │                           │  │
│  │       設備照片             │  │  ← 4:3 比例
│  │       (200x150)           │  │
│  │                           │  │
│  └───────────────────────────┘  │
│  ┌─────────┐                    │
│  │ 🟢可借用 │ ← 狀態標籤         │
│  └─────────┘                    │
│  iPhone 15 Pro      ← 設備名稱   │
│  Apple · iOS 17     ← 品牌/OS   │
│                                 │
│  ┌─────────────────────────┐   │
│  │       借用此設備         │   │  ← 主按鈕（僅可借用時顯示）
│  └─────────────────────────┘   │
└─────────────────────────────────┘
```

**狀態標籤樣式：**
```scss
.status-badge {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;

  &.available {
    background-color: #e8f5e9;
    color: #2e7d32;
  }

  &.borrowed {
    background-color: #ffebee;
    color: #c62828;
  }

  &.maintenance {
    background-color: #fff3e0;
    color: #ef6c00;
  }
}
```

**卡片尺寸：**
- 寬度：280px（桌面）/ 100%（手機）
- 間距：16px
- 圓角：8px
- 陰影：`0 2px 4px rgba(0,0,0,0.1)`

### 4.2 借用彈窗 (Borrow Dialog)

```
┌─────────────────────────────────────┐
│  借用設備                      ✕    │  ← 標題 + 關閉按鈕
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │        設備照片              │   │
│  └─────────────────────────────┘   │
│                                     │
│  iPhone 15 Pro                      │
│  Apple · iOS 17.2                   │
│                                     │
│  ────────────────────────────────   │
│                                     │
│  借用用途（選填）                    │
│  ┌─────────────────────────────┐   │
│  │ 例：iOS App 測試             │   │  ← 文字輸入框
│  └─────────────────────────────┘   │
│                                     │
│  ┌───────────┐  ┌───────────────┐  │
│  │   取消    │  │   確認借用    │  │
│  └───────────┘  └───────────────┘  │
└─────────────────────────────────────┘
```

### 4.3 導航列 (Navigation)

**桌面版（側邊欄）：**
```
┌──────────────────┐
│  📱 設備借用系統  │  ← Logo
├──────────────────┤
│                  │
│  🏠 設備列表     │  ← 當前頁面高亮
│  📋 我的借用     │
│                  │
├──────────────────┤  ← Admin 專區
│  ⚙️ 設備管理     │
│  👥 使用者管理   │
│  🔧 系統設定     │
│                  │
├──────────────────┤
│  user@email.com  │  ← 使用者資訊
│  登出            │
└──────────────────┘
```

**手機版（底部導航）：**
```
┌──────────────────────────────────────┐
│  🏠        📋         ⚙️       👤   │
│  設備      我的借用    管理      我   │
└──────────────────────────────────────┘
```

### 4.4 狀態總覽卡片 (Stats Card)

首頁頂部顯示設備統計：
```
┌────────────┐  ┌────────────┐  ┌────────────┐
│     4      │  │     2      │  │     1      │
│   總設備   │  │   可借用   │  │  已借出    │
│            │  │   🟢       │  │   🔴       │
└────────────┘  └────────────┘  └────────────┘
```

---

## 5. 頁面線框圖

### 5.1 登入頁面

```
┌──────────────────────────────────────────────┐
│                                              │
│                                              │
│            📱 測試機借用系統                  │
│                                              │
│            ┌────────────────────┐            │
│            │ Email              │            │
│            └────────────────────┘            │
│            ┌────────────────────┐            │
│            │ 密碼               │            │
│            └────────────────────┘            │
│            ☐ 記住我的登入狀態                │
│                                              │
│            ┌────────────────────┐            │
│            │       登入        │            │
│            └────────────────────┘            │
│                                              │
│            忘記密碼？                        │
│                                              │
└──────────────────────────────────────────────┘
```

### 5.2 首頁（設備列表）

**桌面版：**
```
┌────────────────────────────────────────────────────────────────┐
│  ┌────────┐                                                    │
│  │        │  📱 測試機借用系統                    user@email ▼ │
│  │ 側邊欄  │  ───────────────────────────────────────────────  │
│  │        │                                                    │
│  │ 🏠設備  │  ┌──────────┐ ┌──────────┐ ┌──────────┐          │
│  │ 📋借用  │  │   4      │ │   2      │ │   1      │          │
│  │        │  │  總設備   │ │  可借用   │ │  已借出  │          │
│  │ ─────  │  └──────────┘ └──────────┘ └──────────┘          │
│  │ ⚙️管理  │                                                    │
│  │ 👥使用者│  設備列表                                          │
│  │ 🔧設定  │  ┌────────────┐ ┌────────────┐ ┌────────────┐    │
│  │        │  │ [照片]     │ │ [照片]     │ │ [照片]     │    │
│  │        │  │ 🟢可借用   │ │ 🔴已借出   │ │ 🟢可借用   │    │
│  │        │  │ iPhone 15  │ │ Samsung S24│ │ Pixel 8    │    │
│  │        │  │ Apple iOS  │ │ user@..    │ │ Google And │    │
│  │        │  │ [借用設備] │ │            │ │ [借用設備] │    │
│  │        │  └────────────┘ └────────────┘ └────────────┘    │
│  │        │                                                    │
│  └────────┘                                                    │
└────────────────────────────────────────────────────────────────┘
```

**手機版：**
```
┌─────────────────────────┐
│  📱 測試機借用系統    ≡  │
├─────────────────────────┤
│                         │
│  ┌───┐ ┌───┐ ┌───┐     │
│  │ 4 │ │ 2 │ │ 1 │     │
│  │總 │ │可 │ │借 │     │
│  └───┘ └───┘ └───┘     │
│                         │
│  ┌─────────────────────┐│
│  │     [照片]          ││
│  │  🟢可借用           ││
│  │  iPhone 15 Pro      ││
│  │  Apple · iOS 17     ││
│  │  ┌───────────────┐  ││
│  │  │   借用設備    │  ││
│  │  └───────────────┘  ││
│  └─────────────────────┘│
│                         │
│  ┌─────────────────────┐│
│  │     [照片]          ││
│  │  🔴已借出           ││
│  │  Samsung S24        ││
│  │  user@example.com   ││
│  └─────────────────────┘│
│                         │
├─────────────────────────┤
│  🏠    📋    ⚙️    👤  │
└─────────────────────────┘
```

### 5.3 我的借用頁面

```
┌─────────────────────────────────────────────┐
│  我的借用                                   │
├─────────────────────────────────────────────┤
│                                             │
│  目前借用中                                 │
│  ┌─────────────────────────────────────┐   │
│  │ [圖] iPhone 15 Pro                  │   │
│  │     借用時間：2026-01-14 09:00      │   │
│  │     用途：iOS 測試                  │   │
│  │                    ┌──────────────┐ │   │
│  │                    │   歸還設備   │ │   │
│  │                    └──────────────┘ │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  ─────────────────────────────────────────  │
│                                             │
│  歷史記錄                                   │
│  ┌─────────────────────────────────────┐   │
│  │ [圖] Samsung S24                    │   │
│  │     2026-01-10 ~ 2026-01-12         │   │
│  │     用途：Android 測試              │   │
│  │     狀態：已歸還 ✓                  │   │
│  └─────────────────────────────────────┘   │
│                                             │
└─────────────────────────────────────────────┘
```

### 5.4 設備管理頁面（Admin）

```
┌─────────────────────────────────────────────────────────┐
│  設備管理                          ┌──────────────────┐ │
│                                    │  + 新增設備      │ │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 名稱          品牌      狀態      操作          │   │
│  ├─────────────────────────────────────────────────┤   │
│  │ iPhone 15 Pro Apple    🟢可借用  [編輯][刪除]  │   │
│  │ Samsung S24   Samsung  🔴已借出  [編輯][刪除]  │   │
│  │ Pixel 8       Google   🟢可借用  [編輯][刪除]  │   │
│  │ iPad Pro      Apple    🟡維修中  [編輯][刪除]  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 5.5 Telegram 設定頁面（Admin）

```
┌─────────────────────────────────────────────────────────┐
│  Telegram 通知設定                                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ☑ 啟用 Telegram 通知                                  │
│                                                         │
│  Bot Token                                              │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 123456789:ABCdefGHIjklMNOpqrSTUvwxYZ           │   │
│  └─────────────────────────────────────────────────┘   │
│  從 @BotFather 取得                                    │
│                                                         │
│  群組 Chat ID                                           │
│  ┌─────────────────────────────────────────────────┐   │
│  │ -1001234567890                                  │   │
│  └─────────────────────────────────────────────────┘   │
│  群組 ID 是負數開頭                                    │
│                                                         │
│  話題 Thread ID（選填）                                 │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│  如果群組有開啟話題功能                                │
│                                                         │
│  ┌──────────────┐  ┌──────────────┐                   │
│  │   測試通知   │  │   儲存設定   │                   │
│  └──────────────┘  └──────────────┘                   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 6. 響應式設計

### 斷點定義
```scss
$breakpoints: (
  'mobile': 320px,    // 手機
  'tablet': 768px,    // 平板
  'desktop': 1024px,  // 桌面
  'wide': 1440px      // 大螢幕
);
```

### 版面配置

| 裝置 | 設備卡片排列 | 導航方式 |
|-----|------------|---------|
| 手機 (<768px) | 1 欄 | 底部導航 |
| 平板 (768-1023px) | 2 欄 | 側邊欄（可收合） |
| 桌面 (>=1024px) | 3-4 欄 | 側邊欄（固定） |

### 手機版特殊處理
1. **卡片全寬顯示** - 設備卡片佔滿螢幕寬度
2. **底部導航** - 主要功能放在底部方便單手操作
3. **滑動歸還** - 可以左滑設備卡片快速歸還
4. **觸控優化** - 按鈕最小 44x44px

---

## 7. 互動規範

### 7.1 載入狀態
```
┌─────────────────────┐
│                     │
│     ◌ 載入中...    │  ← 使用 Material Spinner
│                     │
└─────────────────────┘
```

### 7.2 空狀態
```
┌─────────────────────────────────────┐
│                                     │
│           📱                        │
│                                     │
│      目前沒有任何設備               │
│                                     │
│      ┌───────────────┐             │
│      │   新增設備    │             │  ← 提供行動建議
│      └───────────────┘             │
│                                     │
└─────────────────────────────────────┘
```

### 7.3 操作回饋

**成功訊息（Snackbar）：**
```
┌─────────────────────────────────────────────┐
│  ✓ 設備借用成功！                     關閉  │
└─────────────────────────────────────────────┘
```
- 持續時間：3 秒
- 位置：畫面底部

**錯誤訊息（Snackbar）：**
```
┌─────────────────────────────────────────────┐
│  ✗ 設備目前不可借用                   關閉  │
└─────────────────────────────────────────────┘
```
- 背景色：`$error`
- 持續時間：5 秒

### 7.4 確認彈窗

危險操作（刪除、強制歸還）需要二次確認：
```
┌─────────────────────────────────────┐
│  確認刪除                           │
├─────────────────────────────────────┤
│                                     │
│  確定要刪除「iPhone 15 Pro」嗎？    │
│  此操作無法復原。                   │
│                                     │
│  ┌───────────┐  ┌───────────────┐  │
│  │   取消    │  │   確認刪除    │  │  ← 刪除按鈕用 $error 色
│  └───────────┘  └───────────────┘  │
└─────────────────────────────────────┘
```

### 7.5 表單驗證
- 即時驗證：輸入時即時顯示錯誤
- 錯誤訊息顯示在輸入框下方
- 錯誤狀態時輸入框邊框變為 `$error` 色

---

## Angular Material 主題設定

`src/styles.scss`:
```scss
@use '@angular/material' as mat;

// 定義主題
$primary-palette: mat.define-palette(mat.$indigo-palette);
$accent-palette: mat.define-palette(mat.$pink-palette, A200, A100, A400);
$warn-palette: mat.define-palette(mat.$red-palette);

$theme: mat.define-light-theme((
  color: (
    primary: $primary-palette,
    accent: $accent-palette,
    warn: $warn-palette,
  ),
  typography: mat.define-typography-config(),
  density: 0,
));

@include mat.all-component-themes($theme);

// 全域樣式
body {
  margin: 0;
  font-family: 'Roboto', 'Noto Sans TC', sans-serif;
  background-color: #fafafa;
}

// 狀態色
.status-available { color: #4caf50; }
.status-borrowed { color: #f44336; }
.status-maintenance { color: #ff9800; }
```

---

## 設計資源

### 圖示
使用 [Material Icons](https://fonts.google.com/icons)
```html
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
```

### 字型
```html
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
```
