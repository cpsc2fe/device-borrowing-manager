import{a as E,b as S}from"./chunk-MEBUCGCQ.js";import{a as R,b as I,e as P,f as T,g as j,h as O}from"./chunk-EFACFY3A.js";import{f as v,ha as y,i as B,ka as x,p as w}from"./chunk-EWSGLXCW.js";import{Ab as u,Cb as M,Ec as A,Fb as p,Gb as g,Hb as C,Ja as l,Jb as k,Ka as d,aa as h,bb as D,f as m,fa as _,hb as r,ib as a,ic as F,ka as b,qb as s}from"./chunk-R7MLKEAJ.js";var Q=(()=>{class n{constructor(i,e){this.dialogRef=i,this.data=e,this.vpnChecked=!1,this.incognitoChecked=!1}get allChecked(){return this.vpnChecked&&this.incognitoChecked}onCancel(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static{this.\u0275fac=function(e){return new(e||n)(d(R),d(I))}}static{this.\u0275cmp=b({type:n,selectors:[["app-return-confirm-dialog"]],standalone:!0,features:[k],decls:17,vars:4,consts:[["mat-dialog-title",""],[1,"confirm-message"],[1,"reminders"],[1,"reminder-title"],["color","primary",3,"ngModelChange","ngModel"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click","disabled"]],template:function(e,t){e&1&&(r(0,"h2",0),u(1,"\u78BA\u8A8D\u6B78\u9084"),a(),r(2,"mat-dialog-content")(3,"p",1),u(4),a(),r(5,"div",2)(6,"p",3),u(7,"\u6B78\u9084\u524D\u8ACB\u78BA\u8A8D\uFF1A"),a(),r(8,"mat-checkbox",4),C("ngModelChange",function(o){return g(t.vpnChecked,o)||(t.vpnChecked=o),o}),u(9," \u5982\u679C\u904E\u7A0B\u4E2D\u6709\u4F7F\u7528 VPN\uFF0C\u6B78\u9084\u524D\u90FD\u8ACB\u8A18\u5F97\u95DC\u9589 "),a(),r(10,"mat-checkbox",4),C("ngModelChange",function(o){return g(t.incognitoChecked,o)||(t.incognitoChecked=o),o}),u(11," \u5982\u679C\u6709\u9700\u8981\u4F7F\u7528\u6E2C\u8A66\u6A5F\u700F\u89BD\u4EA4\u4ED8\u7DB2\u5740\uFF0C\u90FD\u8ACB\u8A18\u5F97\u4F7F\u7528\u7121\u75D5\uFF0C\u4E26\u65BC\u700F\u89BD\u5F8C\u78BA\u5BE6\u95DC\u9589\u8A72\u5206\u9801 "),a()()(),r(12,"mat-dialog-actions",5)(13,"button",6),s("click",function(){return t.onCancel()}),u(14,"\u53D6\u6D88"),a(),r(15,"button",7),s("click",function(){return t.onConfirm()}),u(16," \u78BA\u8A8D\u6B78\u9084 "),a()()),e&2&&(l(4),M("\u78BA\u5B9A\u8981\u6B78\u9084\u300C",t.data.deviceName,"\u300D\u55CE\uFF1F"),l(4),p("ngModel",t.vpnChecked),l(2),p("ngModel",t.incognitoChecked),l(5),D("disabled",!t.allChecked))},dependencies:[F,w,v,B,O,P,j,T,x,y,S,E],styles:[".confirm-message[_ngcontent-%COMP%]{margin:0 0 16px;color:var(--app-text-muted)}.reminders[_ngcontent-%COMP%]{background:var(--app-surface-hover);border-radius:8px;padding:12px 16px}.reminder-title[_ngcontent-%COMP%]{margin:0 0 12px;font-weight:500;color:var(--app-text-primary)}mat-checkbox[_ngcontent-%COMP%]{display:block;margin-bottom:8px}mat-checkbox[_ngcontent-%COMP%]:last-child{margin-bottom:0}  .reminders .mdc-form-field label{white-space:normal;line-height:1.4}"]})}}return n})();var Y=(()=>{class n{constructor(i){this.supabase=i}borrowDevice(i,e,t,c){return m(this,null,function*(){let{data:o,error:f}=yield this.supabase.client.rpc("borrow_device",{p_device_id:i,p_borrower_name:e,p_borrower_email:t||null,p_purpose:c||null});if(f)throw f;return o})}returnDevice(i){return m(this,null,function*(){let{data:e,error:t}=yield this.supabase.client.rpc("return_device",{p_borrow_id:i});if(t)throw t;return e})}getAllBorrows(){return m(this,null,function*(){let{data:i,error:e}=yield this.supabase.client.from("borrows").select("*").order("created_at",{ascending:!1});if(e)throw e;return i})}static{this.\u0275fac=function(e){return new(e||n)(_(A))}}static{this.\u0275prov=h({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{Q as a,Y as b};
